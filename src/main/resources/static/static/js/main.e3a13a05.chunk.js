(this["webpackJsonpbudgie-react-web"]=this["webpackJsonpbudgie-react-web"]||[]).push([[0],{140:function(e,t,n){},141:function(e,t,n){},447:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(22),s=n.n(r),i=(n(140),n.p,n(141),n(9)),o=n.n(i),j=n(30),l=n(12),d=n(1),u=a.a.createContext();function b(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1];function s(){return(s=Object(j.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://127.0.0.1:8080/categories/".concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.error("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function i(){return(i=Object(j.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify({categoryName:t}),e.next=4,fetch("http://127.0.0.1:8080/categories/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:n});case 4:return e.sent,e.next=7,b();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function b(){return h.apply(this,arguments)}function h(){return(h=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://127.0.0.1:8080/categories/all",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){b()}),[]),Object(d.jsx)(u.Provider,{value:{categories:a,setCategories:r,addCategory:function(e){return i.apply(this,arguments)},updateCategories:b,getCategoryById:function(e){return s.apply(this,arguments)}},children:e.children})}var h=n(31),x=n(5);function O(){return Object(d.jsx)("div",{className:"navbar",children:Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"nav-ul",children:[Object(d.jsx)("li",{className:"nav-li",children:Object(d.jsx)(h.b,{to:"/",children:"Home"})}),Object(d.jsx)("li",{className:"nav-li",children:Object(d.jsx)(h.b,{to:"/transactions",children:"Transactions"})}),Object(d.jsx)("li",{className:"nav-li",children:Object(d.jsx)(h.b,{to:"/income",children:"Income"})}),Object(d.jsx)("li",{className:"nav-li",children:Object(d.jsx)(h.b,{to:"/expenses",children:"Expenses"})}),Object(d.jsx)("li",{className:"nav-li",children:Object(d.jsx)(h.b,{to:"/categories",children:"Categories"})})]})})})}var p=a.a.createContext();function f(e){var t=Object(c.useContext)(u),n=Object(c.useState)([]),a=Object(l.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)([]),b=Object(l.a)(i,2),h=(b[0],b[1],Object(c.useState)([])),x=Object(l.a)(h,2);x[0],x[1];function O(){return(O=Object(j.a)(o.a.mark((function e(n,c,a,r,s){var i,j,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCategoryById(c);case 2:return i=e.sent,j="",j=!0===r?"http://localhost:8080/transactions/addIncome":"http://localhost:8080/transactions/addExpense",l=JSON.stringify({dollars:n,category:i,note:a,transactionDate:s,isIncome:r}),e.prev=6,e.next=9,fetch(j,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:l});case 9:e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error("error",e.t0);case 15:return e.next=17,f();case 17:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}function f(){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8080/transactions/all",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.next=9,s(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){f(),console.log("updated transactions",r)}),[]),Object(d.jsx)("div",{children:Object(d.jsx)(p.Provider,{value:{transactions:r,setTransactions:s,addTransaction:function(e,t,n,c,a){return O.apply(this,arguments)},updateTransactions:f},children:e.children})})}n(150);function v(e){var t=Object(c.useContext)(p),n=(Object(c.useContext)(u),(new Date).toISOString().substr(0,10)),a=Object(c.useRef)(null),r=Object(c.useState)("0"),s=Object(l.a)(r,2),i=s[0],o=s[1],j=Object(c.useState)(1),h=Object(l.a)(j,2),x=h[0],O=h[1],f=Object(c.useState)(""),v=Object(l.a)(f,2),m=v[0],g=v[1],y=Object(c.useState)(n),C=Object(l.a)(y,2),N=C[0],S=C[1],D=function(){o(0),g("")};return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:"add-transaction-form",onSubmit:function(n){n.preventDefault(),t.addTransaction(i,x,m,e.income,N),D()},ref:a,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"transactionDollarAmount",children:"Enter dollar amount of transaction:"}),Object(d.jsx)("div",{children:Object(d.jsxs)("span",{children:["$",Object(d.jsx)("input",{type:"number",name:"transactionDollarAmount",id:"transactionDollarAmount",min:"0",max:"9999",value:i,onChange:function(e){o(e.target.value)}})]})})]}),Object(d.jsxs)(b,{children:[Object(d.jsx)("label",{htmlFor:"transactionCategory",children:"Set a category for the transaction:"}),Object(d.jsx)("div",{children:Object(d.jsx)("select",{name:"transactionCategory",value:x,onChange:function(e){O(e.target.value)},children:Object(d.jsx)(u.Consumer,{children:function(e){return e.categories.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.categoryName},e.id)}))}})})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"transactionNote",children:"Set a note for the transaction:"}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{name:"transactionNote",type:"text",placeholder:"Note",value:m,onChange:function(e){g(e.target.value)}})})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"transactionDate",children:"Date of transaction:"}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{name:"transactionDate",type:"date",placeholder:"Date",value:N,onChange:function(e){S(e.target.value)}})})]}),Object(d.jsx)("button",{children:"Submit"})]})})}function m(e){return Object(d.jsx)("div",{children:e.amount>=0?"$".concat(e.amount):"-$".concat(-1*e.amount)})}function g(e){return Object(d.jsxs)("div",{className:"transaction-item",children:[Object(d.jsx)("span",{children:Object(d.jsx)(m,{amount:e.dollars})}),Object(d.jsx)("span",{children:e.category?e.category:"Empty"}),Object(d.jsx)("span",{children:e.note}),Object(d.jsx)("span",{children:e.transactionDate}),Object(d.jsx)("span",{})]})}function y(e){var t=Object(c.useContext)(p);"expense"===e.filter&&(t.transactions=t.transactions.filter((function(e){return!1===e.income}))),"income"===e.filter&&(t.transactions=t.transactions.filter((function(e){return!0===e.income})));return Object(d.jsxs)("div",{className:"transaction-list",children:[Object(d.jsxs)("div",{className:"transaction-list-header",children:[Object(d.jsx)("div",{children:"Dollar Amount"}),Object(d.jsx)("div",{children:"Category"}),Object(d.jsx)("div",{children:"Note"}),Object(d.jsx)("div",{children:"Date"}),Object(d.jsx)("div",{})]}),t.transactions.map((function(e){return Object(d.jsx)(g,{"data-id":e.id,dollars:e.dollars,category:e.category?e.category.categoryName:"",note:e.note,transactionDate:e.transactionDate},e.id)})),Object(d.jsx)("div",{className:"sum-line",children:Object(d.jsx)(m,{amount:function(){var e=0;return t.transactions.forEach((function(t){e+=t.dollars})),e}()})})]})}function C(){return Object(d.jsx)("div",{children:Object(d.jsx)(f,{children:Object(d.jsx)("div",{children:Object(d.jsx)(y,{})})})})}function N(){return Object(d.jsx)("div",{children:Object(d.jsxs)(f,{children:[Object(d.jsx)(v,{income:!1}),Object(d.jsx)("div",{children:Object(d.jsx)(y,{filter:"expense"})})]})})}function S(){return Object(d.jsx)("div",{children:Object(d.jsxs)(f,{children:[Object(d.jsx)(v,{income:!0}),Object(d.jsx)("div",{children:Object(d.jsx)(y,{filter:"income"})})]})})}function D(e){var t=Object(c.useContext)(u);return Object(d.jsxs)("div",{className:"transaction-list",children:[Object(d.jsx)("div",{className:"transaction-list-header",children:Object(d.jsx)("div",{children:"Name"})}),t.categories.map((function(e){return Object(d.jsx)("div",{"data-id":e.id,children:e.categoryName},e.id)}))]})}function T(e){var t=Object(c.useContext)(u),n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],s=a[1],i=function(){s("")};return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:"add-transaction-form",onSubmit:function(e){e.preventDefault(),t.addCategory(r),i()},children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"categoryName",children:"Enter name of category:"}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",name:"categoryName",id:"categoryName",value:r,onChange:function(e){s(e.target.value)}})})]}),Object(d.jsx)("button",{children:"Submit"})]})})}function w(){return Object(d.jsx)("div",{children:Object(d.jsxs)(b,{children:[Object(d.jsx)(T,{}),Object(d.jsx)("div",{children:Object(d.jsx)(D,{})})]})})}function E(){return Object(d.jsxs)(h.a,{children:[Object(d.jsx)(O,{}),Object(d.jsx)("div",{className:"content",children:Object(d.jsxs)(x.c,{children:[Object(d.jsx)(x.a,{path:"/transactions",children:Object(d.jsx)(C,{})}),Object(d.jsxs)(b,{children:[Object(d.jsx)(x.a,{path:"/income",children:Object(d.jsx)(S,{})}),Object(d.jsx)(x.a,{path:"/expenses",children:Object(d.jsx)(N,{})}),Object(d.jsx)(x.a,{path:"/categories",children:Object(d.jsx)(w,{})})]}),Object(d.jsx)(x.a,{exact:!0,path:"/",children:Object(d.jsx)(w,{})}),Object(d.jsx)(x.a,{path:"*",children:Object(d.jsx)("div",{children:"404"})})]})})]})}var k=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(E,{})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,448)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(k,{})}),document.getElementById("root")),A()}},[[447,1,2]]]);
//# sourceMappingURL=main.e3a13a05.chunk.js.map