(this["webpackJsonpbudgie-react-web"]=this["webpackJsonpbudgie-react-web"]||[]).push([[0],{291:function(e,t,n){},292:function(e,t,n){},731:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(33),s=n.n(r),o=(n(291),n.p,n(292),n(20)),i=n.n(o),j=n(45),l=n(14),u=n(1),d=a.a.createContext();function b(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1];function s(){return(s=Object(j.a)(i.a.mark((function e(t){var n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://127.0.0.1:8080/categories/".concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.error("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function o(){return(o=Object(j.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify({categoryName:t}),e.next=4,fetch("http://127.0.0.1:8080/categories/add",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:n});case 4:return e.sent,e.next=7,b();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function b(){return h.apply(this,arguments)}function h(){return(h=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://127.0.0.1:8080/categories/all",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function p(){return(p=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://127.0.0.1:8080/categories/delete?id=".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:e.sent,b(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){b()}),[]),Object(u.jsx)(d.Provider,{value:{categories:a,setCategories:r,addCategory:function(e){return o.apply(this,arguments)},updateCategories:b,getCategoryById:function(e){return s.apply(this,arguments)},deleteCategory:function(e){return p.apply(this,arguments)}},children:e.children})}var h=n(75),p=n(22);function x(){return Object(u.jsx)("div",{className:"navbar",children:Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"nav-ul",children:[Object(u.jsx)("li",{className:"nav-li",children:Object(u.jsx)(h.b,{to:"/",children:"Transactions"})}),Object(u.jsx)("li",{className:"nav-li",children:Object(u.jsx)(h.b,{to:"/income",children:"Income"})}),Object(u.jsx)("li",{className:"nav-li",children:Object(u.jsx)(h.b,{to:"/expenses",children:"Expenses"})}),Object(u.jsx)("li",{className:"nav-li",children:Object(u.jsx)(h.b,{to:"/categories",children:"Categories"})})]})})})}var O=a.a.createContext();function m(e){var t=Object(c.useContext)(d),n=Object(c.useState)([]),a=Object(l.a)(n,2),r=a[0],s=a[1];function o(){return(o=Object(j.a)(i.a.mark((function e(n,c,a,r){var s,o,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCategoryById(c);case 2:return s=e.sent,o="",console.log(n),o=n>=0?"http://localhost:8080/transactions/addIncome":"http://localhost:8080/transactions/addExpense",j=JSON.stringify({amount:n,category:s,note:a,transactionDate:r}),e.prev=7,e.next=10,fetch(o,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:j});case 10:e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.error("error",e.t0);case 16:return e.next=18,h();case 18:case"end":return e.stop()}}),e,null,[[7,13]])})))).apply(this,arguments)}function b(){return(b=Object(j.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8080/transactions/delete/?id=".concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return e.sent,e.next=6,h();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(){return p.apply(this,arguments)}function p(){return(p=Object(j.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:8080/transactions/all",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.next=9,s(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){h()}),[]),Object(u.jsx)(O.Provider,{value:{transactions:r,setTransactions:s,addTransaction:function(e,t,n,c){return o.apply(this,arguments)},updateTransactions:h,deleteTransaction:function(e){return b.apply(this,arguments)}},children:e.children})}n(301);function f(e){var t=Object(c.useContext)(O),n=(Object(c.useContext)(d),(new Date).toISOString().substr(0,10)),a=Object(c.useRef)(null),r=Object(c.useState)(0),s=Object(l.a)(r,2),o=s[0],h=s[1],p=Object(c.useState)(0),x=Object(l.a)(p,2),m=x[0],f=x[1],v=Object(c.useState)(1),g=Object(l.a)(v,2),y=g[0],N=g[1],C=Object(c.useState)(""),w=Object(l.a)(C,2),T=w[0],S=w[1],k=Object(c.useState)(n),D=Object(l.a)(k,2),E=D[0],A=D[1],F=function(){var n=Object(j.a)(i.a.mark((function n(c){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:c.preventDefault(),a=parseFloat(o+m/100),e.income?t.addTransaction(a,y,T,E):t.addTransaction(-1*a,y,T,E),I();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),I=function(){h(0),f(0),S("")};return Object(u.jsx)("div",{className:"add-transaction-form-container",children:Object(u.jsxs)("form",{className:"add-transaction-form",onSubmit:F,onReset:I,ref:a,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"transactionDollarAmount",children:"Enter dollar amount of transaction:"}),Object(u.jsx)("div",{children:Object(u.jsxs)("span",{children:[e.income?"":"-","$",Object(u.jsx)("input",{type:"number",name:"transactionDollarAmount",id:"transactionDollarAmount",min:"0",max:"99999",value:o,onChange:function(e){h(parseInt(e.target.value))}}),".",Object(u.jsx)("input",{type:"number",min:"0",max:"99",size:"2",value:m,onChange:function(e){f(parseInt(e.target.value))}})]})})]}),Object(u.jsx)(b,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"transactionCategory",children:"Set a category for the transaction:"}),Object(u.jsx)("select",{name:"transactionCategory",value:y,onChange:function(e){N(e.target.value)},children:Object(u.jsx)(d.Consumer,{children:function(e){return e.categories.map((function(e){return Object(u.jsx)("option",{value:e.id,children:e.categoryName},e.id)}))}})})]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"transactionNote",children:"Set a note for the transaction:"}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{name:"transactionNote",type:"text",placeholder:"Note",value:T,onChange:function(e){S(e.target.value)}})})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"transactionDate",children:"Date of transaction:"}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{name:"transactionDate",type:"date",placeholder:"Date",value:E,onChange:function(e){A(e.target.value)}})})]}),Object(u.jsxs)("div",{className:"form-button-container",children:[Object(u.jsx)("button",{type:"reset",className:"form-button reset-button",children:"Clear"}),Object(u.jsx)("button",{type:"submit",className:"form-button submit-button",children:"Submit"})]})]})})}var v=n(733),g=n(734),y=n(738),N=n(280),C=n(281),w=n(110),T=n(107),S=n(283);function k(){var e=Object(c.useContext)(O),t=Object(c.useContext)(d);console.log(t);var n=[];return t.categories.forEach((function(t){var c=0;e.transactions.forEach((function(e){console.log("transaction :>> ",e),e.category.categoryName===t.categoryName&&(c+=e.amount)})),n.push({name:t.categoryName,amount:c})})),Object(u.jsx)(b,{children:Object(u.jsx)(v.a,{width:"100%",height:"100%",children:Object(u.jsxs)(g.a,{width:730,height:250,data:n,children:[Object(u.jsx)(y.a,{strokeDasharray:"3 3"}),Object(u.jsx)(N.a,{dataKey:"name"}),Object(u.jsx)(C.a,{}),Object(u.jsx)(w.a,{}),Object(u.jsx)(T.a,{}),Object(u.jsx)(S.a,{dataKey:"amount",fill:"#8884d8"})]})})})}function D(e){var t=e.amount.toFixed(2),n=(-1*e.amount).toFixed(2);return Object(u.jsx)("div",{className:e.amount>=0?"positive-number":"negative-number",children:e.amount>=0?"$".concat(t):"-$".concat(n)})}function E(e){var t=Object(c.useContext)(O);return Object(u.jsxs)("div",{className:"transaction-item",children:[Object(u.jsx)("span",{children:Object(u.jsx)(D,{amount:e.dollars})}),Object(u.jsx)("span",{children:e.category?e.category:"Empty"}),Object(u.jsx)("span",{children:e.note}),Object(u.jsx)("span",{children:e.transactionDate}),Object(u.jsx)("span",{children:Object(u.jsx)("button",{onClick:function(){t.deleteTransaction(e.id)},children:"Delete"})})]})}function A(e){var t=Object(c.useContext)(O),n=Object(c.useState)("amount"),a=Object(l.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(!0),i=Object(l.a)(o,2),j=i[0],d=i[1];"expense"===e.filter&&(t.transactions=t.transactions.filter((function(e){return e.amount<0}))),"income"===e.filter&&(t.transactions=t.transactions.filter((function(e){return e.amount>=0})));return Object(u.jsxs)("div",{className:"transaction-list",children:[Object(u.jsx)("div",{className:"sum-line",children:Object(u.jsx)(D,{amount:function(){var e=0;return t.transactions.forEach((function(t){e+=t.amount})),e}()})}),Object(u.jsx)("div",{className:"chart-display",children:Object(u.jsx)(k,{})}),Object(u.jsxs)("div",{className:"transaction-list-header",children:[Object(u.jsx)("div",{onClick:function(){"amount"!==r?s("amount"):d(!j)},children:"Amount"}),Object(u.jsx)("div",{onClick:function(){"category"!==r?s("category"):d(!j)},children:"Category"}),Object(u.jsx)("div",{onClick:function(){"note"!==r?s("note"):d(!j)},children:"Note"}),Object(u.jsx)("div",{onClick:function(){"transactionDate"!==r?s("transactionDate"):d(!j)},children:"Date"}),Object(u.jsx)("div",{})]}),function(){var e=[];return e="category"===r?t.transactions.sort((function(e,t){console.log(e);var n=e.category.categoryName.toUpperCase(),c=t.category.categoryName.toUpperCase();return n>c?1:n<c?-1:0})):t.transactions.sort((function(e,t){var n=e[r],c=t[r];return n>c?1:n<c?-1:0})),j&&e.reverse(),e}().map((function(e){return Object(u.jsx)(E,{id:e.id,dollars:e.amount,category:e.category?e.category.categoryName:"",note:e.note,transactionDate:e.transactionDate},e.id)}))]})}function F(){return Object(u.jsx)("div",{className:"content-pane",children:Object(u.jsx)(m,{children:Object(u.jsxs)("div",{className:"transaction-viewer-container",children:[Object(u.jsx)("h1",{children:"Transactions"}),Object(u.jsx)(A,{})]})})})}function I(){return Object(u.jsx)("div",{className:"content-pane",children:Object(u.jsxs)(m,{children:[Object(u.jsxs)("div",{className:"transaction-viewer-container",children:[Object(u.jsx)("h1",{children:"Expenses"}),Object(u.jsx)(A,{filter:"expense"})]}),Object(u.jsxs)("div",{className:"transaction-add-container",children:[Object(u.jsx)("h1",{children:"Add Expense"}),Object(u.jsx)(f,{income:!1})]})]})})}function P(){return Object(u.jsx)("div",{className:"content-pane",children:Object(u.jsxs)(m,{children:[Object(u.jsxs)("div",{className:"transaction-viewer-container",children:[Object(u.jsx)("h1",{children:"Income"}),Object(u.jsx)(A,{filter:"income"})]}),Object(u.jsxs)("div",{className:"transaction-add-container",children:[Object(u.jsx)("h1",{children:"Add Income"}),Object(u.jsx)(f,{income:!0})]})]})})}function B(e){var t=Object(c.useContext)(d);return Object(u.jsxs)("div",{className:"category-list-item",children:[Object(u.jsx)("span",{children:e.categoryName}),"None"!=e.categoryName?Object(u.jsx)("span",{children:Object(u.jsx)("button",{onClick:function(){t.deleteCategory(e.id)},children:"Delete"})}):null]})}function J(e){var t=Object(c.useContext)(d).categories.sort((function(e,t){var n=e.categoryName.toUpperCase(),c=t.categoryName.toUpperCase();return n>c?1:n<c?-1:0}));return Object(u.jsxs)("div",{className:"transaction-list",children:[Object(u.jsx)("div",{className:"transaction-list-header",children:Object(u.jsx)("div",{children:"Name"})}),t.map((function(e){return Object(u.jsx)(B,{id:e.id,categoryName:e.categoryName},e.id)}))]})}function L(e){var t=Object(c.useContext)(d),n=Object(c.useState)(""),a=Object(l.a)(n,2),r=a[0],s=a[1],o=function(){s("")};return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{className:"add-transaction-form",onSubmit:function(e){e.preventDefault(),t.addCategory(r),o()},children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{htmlFor:"categoryName",children:"Enter name of category:"}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",name:"categoryName",id:"categoryName",value:r,onChange:function(e){s(e.target.value)}})})]}),Object(u.jsx)("button",{children:"Submit"})]})})}function U(){return Object(u.jsx)("div",{className:"content-pane",children:Object(u.jsxs)(b,{children:[Object(u.jsxs)("div",{className:"transaction-viewer-container",children:[Object(u.jsx)("h1",{children:"Categories"}),Object(u.jsx)(J,{})]}),Object(u.jsxs)("div",{className:"transaction-add-container",children:[Object(u.jsx)("h1",{children:"Add Category"}),Object(u.jsx)(L,{})]})]})})}function G(){return Object(u.jsxs)(h.a,{baseName:"/",children:[Object(u.jsx)(x,{}),Object(u.jsx)("div",{className:"content",children:Object(u.jsxs)(p.c,{children:[Object(u.jsxs)(b,{children:[Object(u.jsx)(p.a,{exact:!0,path:"/",children:Object(u.jsx)(F,{})}),Object(u.jsx)(p.a,{path:"/income",children:Object(u.jsx)(P,{})}),Object(u.jsx)(p.a,{path:"/expenses",children:Object(u.jsx)(I,{})}),Object(u.jsx)(p.a,{path:"/categories",children:Object(u.jsx)(U,{})})]}),Object(u.jsx)(p.a,{path:"*",children:Object(u.jsx)("div",{children:"404"})})]})})]})}var $=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(G,{})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,740)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)($,{})}),document.getElementById("root")),K()}},[[731,1,2]]]);
//# sourceMappingURL=main.b472ff5c.chunk.js.map